  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to DeviseCreateUsers (20210109212019)
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_email`  ON `users` (`email`) [0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_reset_password_token`  ON `users` (`reset_password_token`) [0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (2.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210109212019')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-09 21:21:43.167342', '2021-01-09 21:21:43.167342')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/users" for ::1 at 2021-01-09 23:26:37 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"hammada0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 278ms (ActiveRecord: 2.5ms | Allocations: 10484)


  
NoMethodError (undefined method `auth_token' for #<User:0x00007f9bbc45de90>):
  
app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddAuthenticationTokenToUsers (20210109213203)
  [1m[35m (25.0ms)[0m  [1m[35mALTER TABLE `users` ADD `auth_token` varchar(255)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210109213203')[0m
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/users" for ::1 at 2021-01-09 23:32:56 +0200
  [1m[35m (2.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"hammada0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'hammada0@gmail.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` = 'FruEV-aoxHVsD_tphhq8' LIMIT 1[0m
  â†³ app/models/user.rb:12:in `generate_authentication_token!'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `auth_token`) VALUES ('hammada0@gmail.com', '$2a$12$0x6p2aZwk17BaswwYgi2R.hVvjWWgNHRfESrhB.H8eGITgxXKnBdK', '2021-01-09 21:32:56.637415', '2021-01-09 21:32:56.637415', 'FruEV-aoxHVsD_tphhq8')[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
Completed 201 Created in 363ms (Views: 0.4ms | ActiveRecord: 11.8ms | Allocations: 15160)


Started POST "/api/v1/sessions" for ::1 at 2021-01-10 00:05:59 +0200
  [1m[35m (15.7ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::SessionsController#create as */*
  Parameters: {"email"=>"hammada0@gmail.com", "password"=>"[FILTERED]", "session"=>{"email"=>"hammada0@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'hammada0@gmail.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:7:in `create'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :auth_token attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from create at /home/okka/Desktop/AlShop/app/controllers/api/v1/sessions_controller.rb:11)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` = BINARY 'FruEV-aoxHVsD_tphhq8' AND `users`.`id` != 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:11:in `create'
Completed 500 Internal Server Error in 283ms (ActiveRecord: 7.8ms | Allocations: 15711)


  
NoMethodError (undefined method `user_type' for #<User:0x00007f69c0368ab8>):
  
app/controllers/api/v1/sessions_controller.rb:12:in `create'
Started POST "/api/v1/sessions" for ::1 at 2021-01-10 00:06:35 +0200
Processing by Api::V1::SessionsController#create as */*
  Parameters: {"email"=>"hammada0@gmail.com", "password"=>"[FILTERED]", "session"=>{"email"=>"hammada0@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'hammada0@gmail.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:7:in `create'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :auth_token attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from create at /home/okka/Desktop/AlShop/app/controllers/api/v1/sessions_controller.rb:11)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` = BINARY 'FruEV-aoxHVsD_tphhq8' AND `users`.`id` != 1 LIMIT 1[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:11:in `create'
Completed 200 OK in 262ms (Views: 0.4ms | ActiveRecord: 6.8ms | Allocations: 10861)


  [1m[35m (0.9ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (4.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateCategories (20210112142316)
  [1m[35m (21.0ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112142316')[0m
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateItems (20210112142429)
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112142429')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryIdToItems (20210112143241)
  [1m[35m (13.3ms)[0m  [1m[35mALTER TABLE `items` ADD `categories_id` bigint[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE  INDEX `index_items_on_categories_id`  ON `items` (`categories_id`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112143241')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserIdToCategory (20210112143714)
  [1m[35m (15.5ms)[0m  [1m[35mALTER TABLE `categories` ADD `user_id` bigint[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE  INDEX `index_categories_on_user_id`  ON `categories` (`user_id`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112143714')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateCarts (20210112145215)
  [1m[35m (22.0ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112145215')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/sessions" for ::1 at 2021-01-12 17:04:26 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"hammad000000a0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hammad000000a0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` IS NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2263)


Started POST "/api/v1/sessions" for ::1 at 2021-01-12 17:04:46 +0200
Processing by Api::V1::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"hammad0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hammad0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` IS NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/sessions_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 909)


Started POST "/api/v1/users" for ::1 at 2021-01-12 17:04:53 +0200
  
NoMethodError (undefined method `after_create' for Api::V1::UsersController:Class
Did you mean?  after_action):
  
app/controllers/api/v1/users_controller.rb:5:in `<class:UsersController>'
app/controllers/api/v1/users_controller.rb:1:in `<top (required)>'
Started POST "/api/v1/users" for ::1 at 2021-01-12 17:08:27 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"hammad0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'hammad0@gmail.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` = 'yAs-oy_F8XBNc9wAenbL' LIMIT 1[0m
  â†³ app/models/user.rb:19:in `generate_authentication_token!'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `auth_token`) VALUES ('hammad0@gmail.com', '$2a$12$QYi00ef28IF/so0X9xLcT.Aj/S97jGQOHuqwTcdtE7Vq2X6U0GcrC', '2021-01-12 15:08:27.718330', '2021-01-12 15:08:27.718330', 'yAs-oy_F8XBNc9wAenbL')[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[35m (4.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
Completed 500 Internal Server Error in 282ms (ActiveRecord: 10.2ms | Allocations: 17893)


  
NameError (undefined local variable or method `current_user' for #<User:0x00007f5fe81f8ac0>
Did you mean?  current_password):
  
app/models/user.rb:8:in `block in <class:User>'
app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddCartIdToUser (20210112150950)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112150950')[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (64.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `AlShop_development`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE DATABASE `AlShop_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE DATABASE `AlShop_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS `categories` CASCADE[0m
  [1m[35m (23.4ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint,  INDEX `index_categories_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (23.9ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `categories_id` bigint,  INDEX `index_items_on_categories_id`  (`categories_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (29.5ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `auth_token` varchar(255), UNIQUE INDEX `index_users_on_email`  (`email`), UNIQUE INDEX `index_users_on_reset_password_token`  (`reset_password_token`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (2.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20210112150950)[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20210109212019),
(20210109213203),
(20210112142316),
(20210112142429),
(20210112143241),
(20210112143714),
(20210112145215);

[0m
  [1m[35m (21.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-12 15:13:44.444917', '2021-01-12 15:13:44.444917')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '4389704c347d96dcbcfe4a46e9bca730fd4cee70', '2021-01-12 15:13:44.455829', '2021-01-12 15:13:44.455829')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS `categories` CASCADE[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint,  INDEX `index_categories_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (22.1ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `categories_id` bigint,  INDEX `index_items_on_categories_id`  (`categories_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (24.9ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `auth_token` varchar(255), UNIQUE INDEX `index_users_on_email`  (`email`), UNIQUE INDEX `index_users_on_reset_password_token`  (`reset_password_token`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20210112150950)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20210109212019),
(20210109213203),
(20210112142316),
(20210112142429),
(20210112143241),
(20210112143714),
(20210112145215);

[0m
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-12 15:13:44.617936', '2021-01-12 15:13:44.617936')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE `ar_internal_metadata` SET `ar_internal_metadata`.`value` = 'test', `ar_internal_metadata`.`updated_at` = '2021-01-12 15:13:44.625164' WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '4389704c347d96dcbcfe4a46e9bca730fd4cee70', '2021-01-12 15:13:44.632361', '2021-01-12 15:13:44.632361')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddCartIdToUser (20210112152112)
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE `cart` ADD `user_id` bigint[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddCartIdToUser (20210112152410)
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE `user` ADD `cart_id` bigint[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (45.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `AlShop_development`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (48.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `AlShop_test`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE DATABASE `AlShop_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE DATABASE `AlShop_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE IF EXISTS `categories` CASCADE[0m
  [1m[35m (23.9ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint,  INDEX `index_categories_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (23.3ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `categories_id` bigint,  INDEX `index_items_on_categories_id`  (`categories_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (27.5ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `auth_token` varchar(255), UNIQUE INDEX `index_users_on_email`  (`email`), UNIQUE INDEX `index_users_on_reset_password_token`  (`reset_password_token`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20210112150950)[0m
  [1m[35m (4.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20210109212019),
(20210109213203),
(20210112142316),
(20210112142429),
(20210112143241),
(20210112143714),
(20210112145215);

[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-12 15:25:09.215337', '2021-01-12 15:25:09.215337')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '4389704c347d96dcbcfe4a46e9bca730fd4cee70', '2021-01-12 15:25:09.225525', '2021-01-12 15:25:09.225525')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE IF EXISTS `categories` CASCADE[0m
  [1m[35m (22.2ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint,  INDEX `index_categories_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (36.6ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `categories_id` bigint,  INDEX `index_items_on_categories_id`  (`categories_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (37.7ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `auth_token` varchar(255), UNIQUE INDEX `index_users_on_email`  (`email`), UNIQUE INDEX `index_users_on_reset_password_token`  (`reset_password_token`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (27.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20210112150950)[0m
  [1m[35m (4.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20210109212019),
(20210109213203),
(20210112142316),
(20210112142429),
(20210112143241),
(20210112143714),
(20210112145215);

[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-12 15:25:09.430328', '2021-01-12 15:25:09.430328')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE `ar_internal_metadata` SET `ar_internal_metadata`.`value` = 'test', `ar_internal_metadata`.`updated_at` = '2021-01-12 15:25:09.437752' WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '4389704c347d96dcbcfe4a46e9bca730fd4cee70', '2021-01-12 15:25:09.446784', '2021-01-12 15:25:09.446784')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddCartIdToUser (20210112152410)
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE `user` ADD `cart_id` bigint[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (42.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `AlShop_development`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (44.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `AlShop_test`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE DATABASE `AlShop_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE DATABASE `AlShop_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (27.1ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `categories` CASCADE[0m
  [1m[35m (21.9ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint,  INDEX `index_categories_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `categories_id` bigint,  INDEX `index_items_on_categories_id`  (`categories_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (27.0ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `auth_token` varchar(255), UNIQUE INDEX `index_users_on_email`  (`email`), UNIQUE INDEX `index_users_on_reset_password_token`  (`reset_password_token`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20210112150950)[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20210109212019),
(20210109213203),
(20210112142316),
(20210112142429),
(20210112143241),
(20210112143714),
(20210112145215);

[0m
  [1m[35m (20.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-12 15:29:28.536805', '2021-01-12 15:29:28.536805')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '4389704c347d96dcbcfe4a46e9bca730fd4cee70', '2021-01-12 15:29:28.549758', '2021-01-12 15:29:28.549758')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `carts` CASCADE[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `categories` CASCADE[0m
  [1m[35m (22.3ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint,  INDEX `index_categories_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `categories_id` bigint,  INDEX `index_items_on_categories_id`  (`categories_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (30.2ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `auth_token` varchar(255), UNIQUE INDEX `index_users_on_email`  (`email`), UNIQUE INDEX `index_users_on_reset_password_token`  (`reset_password_token`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20210112150950)[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20210109212019),
(20210109213203),
(20210112142316),
(20210112142429),
(20210112143241),
(20210112143714),
(20210112145215);

[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-12 15:29:28.723945', '2021-01-12 15:29:28.723945')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE `ar_internal_metadata` SET `ar_internal_metadata`.`value` = 'test', `ar_internal_metadata`.`updated_at` = '2021-01-12 15:29:28.734399' WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '4389704c347d96dcbcfe4a46e9bca730fd4cee70', '2021-01-12 15:29:28.742507', '2021-01-12 15:29:28.742507')[0m
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddCartIdToUser (20210112152410)
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE `user` ADD `cart_id` bigint[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (3.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddCartIdToUser (20210112152410)
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE `user` ADD `cart_id` bigint[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (44.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS `AlShop_development`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (44.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `AlShop_test`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE DATABASE `AlShop_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE DATABASE `AlShop_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to DeviseCreateUsers (20210109212019)
  [1m[35m (20.9ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_email`  ON `users` (`email`) [0m
  [1m[35m (23.3ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_reset_password_token`  ON `users` (`reset_password_token`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210109212019')[0m
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthenticationTokenToUsers (20210109213203)
  [1m[35m (13.7ms)[0m  [1m[35mALTER TABLE `users` ADD `auth_token` varchar(255)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210109213203')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20210112142316)
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112142316')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateItems (20210112142429)
  [1m[35m (26.6ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112142429')[0m
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryIdToItems (20210112143241)
  [1m[35m (19.9ms)[0m  [1m[35mALTER TABLE `items` ADD `categories_id` bigint[0m
  [1m[35m (22.7ms)[0m  [1m[35mCREATE  INDEX `index_items_on_categories_id`  ON `items` (`categories_id`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112143241')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserIdToCategory (20210112143714)
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE `category` ADD `user_id` bigint[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to DeviseCreateUsers (20210109212019)
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_email`  ON `users` (`email`) [0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_reset_password_token`  ON `users` (`reset_password_token`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210109212019')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthenticationTokenToUsers (20210109213203)
  [1m[35m (14.9ms)[0m  [1m[35mALTER TABLE `users` ADD `auth_token` varchar(255)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210109213203')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20210112142316)
  [1m[35m (22.0ms)[0m  [1m[35mCREATE TABLE `categories` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112142316')[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateItems (20210112142429)
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `price` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112142429')[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryIdToItems (20210112143241)
  [1m[35m (12.2ms)[0m  [1m[35mALTER TABLE `items` ADD `categories_id` bigint[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE  INDEX `index_items_on_categories_id`  ON `items` (`categories_id`) [0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112143241')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserIdToCategory (20210112143714)
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE `category` ADD `user_id` bigint[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserIdToCategory (20210112143714)
  [1m[35m (14.8ms)[0m  [1m[35mALTER TABLE `categories` ADD `user_id` bigint[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE  INDEX `index_categories_on_user_id`  ON `categories` (`user_id`) [0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210112143714')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2021-01-14 15:23:36.578974', '2021-01-14 15:23:36.578974')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (3.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateActiveStorageTables (20210119193500)
  [1m[35m (21.1ms)[0m  [1m[35mCREATE TABLE `active_storage_blobs` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `key` varchar(255) NOT NULL, `filename` varchar(255) NOT NULL, `content_type` varchar(255), `metadata` text, `byte_size` bigint NOT NULL, `checksum` varchar(255) NOT NULL, `created_at` datetime NOT NULL, UNIQUE INDEX `index_active_storage_blobs_on_key`  (`key`))[0m
  [1m[35m (26.9ms)[0m  [1m[35mCREATE TABLE `active_storage_attachments` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `record_type` varchar(255) NOT NULL, `record_id` bigint NOT NULL, `blob_id` bigint NOT NULL, `created_at` datetime NOT NULL,  INDEX `index_active_storage_attachments_on_blob_id`  (`blob_id`), UNIQUE INDEX `index_active_storage_attachments_uniqueness`  (`record_type`, `record_id`, `name`, `blob_id`), CONSTRAINT `fk_rails_c3b3935057`
FOREIGN KEY (`blob_id`)
  REFERENCES `active_storage_blobs` (`id`)
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210119193500')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/users" for ::1 at 2021-01-19 21:57:46 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"hammad0@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'hammad0@gmail.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` = 'qcRV7YKJ4oJxsyW2sDZB' LIMIT 1[0m
  â†³ app/models/user.rb:15:in `generate_authentication_token!'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `auth_token`) VALUES ('hammad0@gmail.com', '$2a$12$/Vx7tn7OyKg3m/ll7Uy.6uABrrOb5lYHQo6VU9Vho4VTLmaaW.SW6', '2021-01-19 19:57:46.646641', '2021-01-19 19:57:46.646641', 'qcRV7YKJ4oJxsyW2sDZB')[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
Completed 201 Created in 274ms (Views: 0.3ms | ActiveRecord: 8.3ms | Allocations: 15259)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 21:59:40 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.5ms | Allocations: 1236)


  
NoMethodError (undefined method `category' for nil:NilClass):
  
app/controllers/api/v1/categories_controller.rb:18:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:00:53 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 3.0ms | Allocations: 1674)


  
NoMethodError (undefined method `category' for nil:NilClass):
  
app/controllers/api/v1/categories_controller.rb:18:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:03:14 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 2.9ms | Allocations: 1674)


  
NoMethodError (undefined method `category' for nil:NilClass):
  
app/controllers/api/v1/categories_controller.rb:18:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:04:04 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 2.6ms | Allocations: 1674)


  
NoMethodError (undefined method `category' for nil:NilClass):
  
app/controllers/api/v1/categories_controller.rb:18:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:04:38 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 2.4ms | Allocations: 1664)


  
NoMethodError (undefined method `category' for nil:NilClass):
  
app/controllers/api/v1/categories_controller.rb:18:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:07:34 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
Completed 422 Unprocessable Entity in 21ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 10864)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:08:11 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 4131)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:08:58 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/categories_controller.rb:20:in `create'
  [1m[36mCategory Create (1.9ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('fish', '2021-01-19 20:08:58.191966', '2021-01-19 20:08:58.191966')[0m
  â†³ app/controllers/api/v1/categories_controller.rb:20:in `create'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/categories_controller.rb:20:in `create'
Completed 500 Internal Server Error in 106ms (ActiveRecord: 8.6ms | Allocations: 46523)


  
NoMethodError (undefined method `category_url' for #<Api::V1::CategoriesController:0x00007f2114737fa8>):
  
app/controllers/api/v1/categories_controller.rb:21:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:09:33 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/categories_controller.rb:20:in `create'
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`) VALUES ('fish', '2021-01-19 20:09:33.996958', '2021-01-19 20:09:33.996958')[0m
  â†³ app/controllers/api/v1/categories_controller.rb:20:in `create'
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/categories_controller.rb:20:in `create'
Completed 201 Created in 13ms (Views: 0.3ms | ActiveRecord: 6.4ms | Allocations: 6072)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:10:24 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
Completed 422 Unprocessable Entity in 5ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 4129)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:12:40 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Filter chain halted as :authenticate_with_token! rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 3.3ms | Allocations: 2100)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:13:54 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = 'qcRV7YKJ4oJxsyW2sDZB' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 422 Unprocessable Entity in 23ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 17594)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:15:36 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = 'qcRV7YKJ4oJxsyW2sDZB' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1310)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:17:45 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = 'qcRV7YKJ4oJxsyW2sDZB' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 422 Unprocessable Entity in 15ms (Views: 0.1ms | ActiveRecord: 5.2ms | Allocations: 11307)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:18:07 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = 'qcRV7YKJ4oJxsyW2sDZB' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 422 Unprocessable Entity in 18ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 11341)


Started POST "/api/v1/users/1" for ::1 at 2021-01-19 22:20:26 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/1"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/users" for ::1 at 2021-01-19 22:20:32 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"hammad00@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'hammad00@gmail.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/models/user.rb:15:in `generate_authentication_token!'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `auth_token`) VALUES ('hammad00@gmail.com', '$2a$12$eWdEldzkkaqVenXFJPgtH.pn.2aJNzThBDhX.yOEyQ1PVQVExV74q', '2021-01-19 20:20:33.186839', '2021-01-19 20:20:33.186839', '_j-iqFeUaBSkxpjFctFw')[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
Completed 201 Created in 267ms (Views: 0.4ms | ActiveRecord: 8.2ms | Allocations: 15275)


Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:20:46 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 8337)


  [1m[35m (0.6ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` LIMIT 11[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` LIMIT 11[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 11[0m
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:28:41 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 5.0ms | Allocations: 10327)


  
NoMethodError (undefined method `Category' for #<User:0x00007fade472f968>
Did you mean?  category_ids):
  
app/controllers/api/v1/categories_controller.rb:19:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:29:42 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.7ms | Allocations: 9249)


  
NoMethodError (undefined method `category' for #<User:0x00007fadec55c1b0>
Did you mean?  category_ids):
  
app/controllers/api/v1/categories_controller.rb:19:in `create'
Started POST "/api/v1/users/1/categories" for ::1 at 2021-01-19 22:30:00 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish", "user_id"=>"1", "category"=>{"title"=>"fish"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/categories_controller.rb:21:in `create'
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`, `user_id`) VALUES ('fish', '2021-01-19 20:30:00.908424', '2021-01-19 20:30:00.908424', 2)[0m
  â†³ app/controllers/api/v1/categories_controller.rb:21:in `create'
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/categories_controller.rb:21:in `create'
Completed 201 Created in 34ms (Views: 0.3ms | ActiveRecord: 9.0ms | Allocations: 18254)


Started POST "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 22:43:57 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 10ms (ActiveRecord: 1.4ms | Allocations: 8264)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 22:46:48 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 17ms (ActiveRecord: 6.2ms | Allocations: 8710)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 22:47:40 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 11ms (ActiveRecord: 5.9ms | Allocations: 8710)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/1/categories?id=3/items" for ::1 at 2021-01-19 22:51:56 +0200
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "id"=>"3/items", "user_id"=>"1", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/categories_controller.rb:21:in `create'
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO `categories` (`title`, `created_at`, `updated_at`, `user_id`) VALUES ('fish hot', '2021-01-19 20:51:56.951237', '2021-01-19 20:51:56.951237', 2)[0m
  â†³ app/controllers/api/v1/categories_controller.rb:21:in `create'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/categories_controller.rb:21:in `create'
Completed 201 Created in 12ms (Views: 0.4ms | ActiveRecord: 3.4ms | Allocations: 6933)


Started GET "/api/v1/users/1/categories?id=3/items" for ::1 at 2021-01-19 22:52:15 +0200
Processing by Api::V1::CategoriesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "id"=>"3/items", "user_id"=>"1", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2605)


  
NoMethodError (undefined method `category' for #<User:0x00007fade46cb710>
Did you mean?  category_ids):
  
app/controllers/api/v1/categories_controller.rb:7:in `index'
Started GET "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 22:53:06 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 173)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 22:57:11 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 5ms (ActiveRecord: 3.6ms | Allocations: 1516)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 22:58:49 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_category'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 3.4ms | Allocations: 6917)


  
NoMethodError (undefined method `item' for #<Category:0x00007fadecab2808>
Did you mean?  items):
  
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 22:59:27 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_category'
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`category_id` = 3[0m
  â†³ app/controllers/api/v1/items_controller.rb:9:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 4.5ms | Allocations: 6666)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'items.category_id' in 'where clause'):
  
app/controllers/api/v1/items_controller.rb:9:in `index'
Started GET "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 23:00:09 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_category'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`category_id` = 3[0m
  â†³ app/controllers/api/v1/items_controller.rb:9:in `index'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 3.7ms | Allocations: 11338)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'items.category_id' in 'where clause'):
  
app/controllers/api/v1/items_controller.rb:9:in `index'
Started GET "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 23:00:39 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 4ms (ActiveRecord: 3.1ms | Allocations: 1526)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
Started POST "/api/v1/users/1/categories/3/items" for ::1 at 2021-01-19 23:00:50 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 21ms (ActiveRecord: 2.9ms | Allocations: 7638)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started GET "/api/v1/users/1/categories/3" for ::1 at 2021-01-19 23:01:01 +0200
Processing by Api::V1::CategoriesController#show as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "id"=>"3", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 AND `categories`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/categories_controller.rb:45:in `set_category'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 5801)


Started GET "/api/v1/users/1/categories" for ::1 at 2021-01-19 23:01:10 +0200
Processing by Api::V1::CategoriesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"1", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2[0m
  â†³ app/controllers/api/v1/categories_controller.rb:9:in `index'
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 1.3ms | Allocations: 1953)


Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:01:41 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 778)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started GET "/controllers/application_controller.rb:19:in" for 127.0.0.1 at 2021-01-19 23:01:50 +0200
  
ActionController::RoutingError (No route matches [GET] "/controllers/application_controller.rb:19:in"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2021-01-19 23:01:50 +0200
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:05:53 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 5.0ms | Allocations: 10253)


  
NoMethodError (undefined method `current_category' for #<User:0x0000557374543d40>
Did you mean?  current_password):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:06:24 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 3.5ms | Allocations: 9176)


  
NoMethodError (undefined method `current_category' for #<User:0x00007f74648a20e8>
Did you mean?  current_password):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:06:45 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 3.8ms | Allocations: 9176)


  
NoMethodError (undefined method `current_category' for #<User:0x00007f746c0274d8>
Did you mean?  current_password):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:06:54 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 14ms (ActiveRecord: 6.4ms | Allocations: 8779)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:08:39 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.6ms | Allocations: 9164)


  
NoMethodError (undefined method `current_category' for #<User:0x00007f746c5d3490>
Did you mean?  current_password):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:24:48 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 6.5ms | Allocations: 10253)


  
NoMethodError (undefined method `current_category' for #<User:0x00007f63e078e010>
Did you mean?  current_password):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:25:11 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 18ms (ActiveRecord: 7.5ms | Allocations: 8779)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:19:in `create'
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 2 LIMIT 11[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 3 LIMIT 11[0m
Started GET "/api/v1/users/2/categories/3" for ::1 at 2021-01-19 23:40:13 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::CategoriesController#show as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "id"=>"3", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 AND `categories`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/v1/categories_controller.rb:45:in `set_category'
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 6.0ms | Allocations: 17326)


Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:40:32 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 5ms (ActiveRecord: 4.4ms | Allocations: 2199)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:41:51 +0200
Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:43:38 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_category'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`category_id` = 3[0m
  â†³ app/controllers/api/v1/items_controller.rb:9:in `index'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 5.1ms | Allocations: 11356)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'items.category_id' in 'where clause'):
  
app/controllers/api/v1/items_controller.rb:9:in `index'
Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:44:25 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 4ms (ActiveRecord: 3.8ms | Allocations: 1528)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:45:16 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.2ms | Allocations: 9471)


  
NoMethodError (undefined method `current_category' for #<User:0x000055a60b224898>
Did you mean?  current_password):
  
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:45:40 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 6ms (ActiveRecord: 5.0ms | Allocations: 1524)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:50:34 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 5ms (ActiveRecord: 4.0ms | Allocations: 1522)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/application_controller.rb:19:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
Started GET "/api/v1/users/2/categories/3/items" for ::1 at 2021-01-19 23:51:37 +0200
Processing by Api::V1::ItemsController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category_id"=>"3", "item"=>{"title"=>"fish hot", "price"=>"22"}}
Completed 404 Not Found in 4ms (ActiveRecord: 3.9ms | Allocations: 1514)


  
ActiveRecord::RecordNotFound (Couldn't find Category without an ID):
  
app/controllers/api/v1/items_controller.rb:50:in `current_category'
app/controllers/api/v1/items_controller.rb:7:in `index'
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateTypes (20210119215458)
  [1m[35m (28.5ms)[0m  [1m[35mCREATE TABLE `types` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210119215458')[0m
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeIdToItems (20210119215710)
  [1m[35m (17.1ms)[0m  [1m[35mALTER TABLE `items` ADD `types_id` bigint[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE  INDEX `index_items_on_types_id`  ON `items` (`types_id`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210119215710')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/api/v1/users/2/types" for ::1 at 2021-01-20 00:00:56 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::TypesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 6.1ms | Allocations: 10358)


  
NoMethodError (undefined method `type' for #<User:0x00007f3be8778640>
Did you mean?  types):
  
app/controllers/api/v1/types_controller.rb:7:in `index'
Started POST "/api/v1/users/2/types" for ::1 at 2021-01-20 00:01:11 +0200
Processing by Api::V1::TypesController#create as */*
  Parameters: {"title"=>"fish hot", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms | Allocations: 2627)


  
NoMethodError (undefined method `type' for #<User:0x00007f3bdc02a2f0>
Did you mean?  types):
  
app/controllers/api/v1/types_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types" for ::1 at 2021-01-20 00:01:46 +0200
Processing by Api::V1::TypesController#create as */*
  Parameters: {"title"=>"fish hot", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.8ms | Allocations: 14121)


  
ActiveModel::UnknownAttributeError (unknown attribute 'user_id' for Type.):
  
app/controllers/api/v1/types_controller.rb:19:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2105413025731954365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserIdToType (20210119220204)
  [1m[35m (26.2ms)[0m  [1m[35mALTER TABLE `types` ADD `user_id` bigint[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE  INDEX `index_types_on_user_id`  ON `types` (`user_id`) [0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210119220204')[0m
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('2105413025731954365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/api/v1/users/2/types" for ::1 at 2021-01-20 00:03:15 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::TypesController#create as */*
  Parameters: {"title"=>"fish hot", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/types_controller.rb:21:in `create'
  [1m[36mType Create (0.5ms)[0m  [1m[32mINSERT INTO `types` (`title`, `created_at`, `updated_at`, `user_id`) VALUES ('fish hot', '2021-01-19 22:03:15.277518', '2021-01-19 22:03:15.277518', 2)[0m
  â†³ app/controllers/api/v1/types_controller.rb:21:in `create'
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/types_controller.rb:21:in `create'
Completed 201 Created in 31ms (Views: 0.3ms | ActiveRecord: 10.3ms | Allocations: 19306)


Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:04:10 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "type_id"=>"1", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 3ms (ActiveRecord: 1.4ms | Allocations: 842)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:19:21 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "type_id"=>"1", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 19ms (ActiveRecord: 7.4ms | Allocations: 9821)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:19:24 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "type_id"=>"1", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 792)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:19:49 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "types_id"=>"", "user_id"=>"2", "type_id"=>"1", "item"=>{"title"=>"fish hot", "price"=>"22", "types_id"=>""}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mType Load (0.5ms)[0m  [1m[34mSELECT `types`.* FROM `types` WHERE `types`.`id` = NULL LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_type'
Completed 404 Not Found in 9ms (ActiveRecord: 0.9ms | Allocations: 1464)


  
ActiveRecord::RecordNotFound (Couldn't find Type with 'id'=):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:19:59 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "types_id"=>"1", "user_id"=>"2", "type_id"=>"1", "item"=>{"title"=>"fish hot", "price"=>"22", "types_id"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mType Load (9.7ms)[0m  [1m[34mSELECT `types`.* FROM `types` WHERE `types`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_type'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 10.2ms | Allocations: 6121)


  
NoMethodError (undefined method `item' for #<Type:0x00007ffaf8024fb8>
Did you mean?  items):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:20:17 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "types_id"=>"1", "user_id"=>"2", "type_id"=>"1", "item"=>{"title"=>"fish hot", "price"=>"22", "types_id"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mType Load (0.2ms)[0m  [1m[34mSELECT `types`.* FROM `types` WHERE `types`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_type'
[31mUnpermitted parameter: :types_id[0m
Completed 500 Internal Server Error in 30ms (ActiveRecord: 7.0ms | Allocations: 21500)


  
ActiveModel::UnknownAttributeError (unknown attribute 'type_id' for Item.):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:20:47 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "types_id"=>"1", "user_id"=>"2", "type_id"=>"1", "item"=>{"title"=>"fish hot", "price"=>"22", "types_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 15ms (ActiveRecord: 5.7ms | Allocations: 8713)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types/1/items" for ::1 at 2021-01-20 00:20:54 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "id"=>"1", "user_id"=>"2", "type_id"=>"1", "item"=>{"id"=>"1", "title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mType Load (0.4ms)[0m  [1m[34mSELECT `types`.* FROM `types` WHERE `types`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:19:in `current_type'
[31mUnpermitted parameter: :id[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.3ms | Allocations: 9723)


  
ActiveModel::UnknownAttributeError (unknown attribute 'type_id' for Item.):
  
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/users/2/types?id=1/items" for ::1 at 2021-01-20 00:21:36 +0200
Error occurred while parsing request parameters.
Contents:

{
    "title": "fish hot",
    "price": "22",
    
}
  
ActionDispatch::Http::Parameters::ParseError (765: unexpected token at '{
    "title": "fish hot",
    "price": "22",
    
}'):
  
actionpack (6.0.3.4) lib/action_dispatch/http/parameters.rb:114:in `rescue in parse_formatted_parameters'
actionpack (6.0.3.4) lib/action_dispatch/http/parameters.rb:110:in `parse_formatted_parameters'
actionpack (6.0.3.4) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.3) lib/rack/request.rb:69:in `fetch'
rack (2.2.3) lib/rack/request.rb:69:in `fetch_header'
actionpack (6.0.3.4) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (6.0.3.4) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:278:in `_wrapper_enabled?'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{
    "title": "fish hot",
    "price": "22",
    
}
Started POST "/api/v1/users/2/types?id=1/items" for ::1 at 2021-01-20 00:21:40 +0200
Processing by Api::V1::TypesController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "id"=>"1/items", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/types_controller.rb:21:in `create'
  [1m[36mType Create (0.6ms)[0m  [1m[32mINSERT INTO `types` (`title`, `created_at`, `updated_at`, `user_id`) VALUES ('fish hot', '2021-01-19 22:21:40.522140', '2021-01-19 22:21:40.522140', 2)[0m
  â†³ app/controllers/api/v1/types_controller.rb:21:in `create'
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/v1/types_controller.rb:21:in `create'
Completed 201 Created in 17ms (Views: 0.4ms | ActiveRecord: 7.4ms | Allocations: 4590)


Started GET "/api/v1/users/2/types?id=1/items" for ::1 at 2021-01-20 00:21:55 +0200
Processing by Api::V1::TypesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "id"=>"1/items", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms | Allocations: 2646)


  
NoMethodError (undefined method `type' for #<User:0x0000557bd0ac22a8>
Did you mean?  types):
  
app/controllers/api/v1/types_controller.rb:7:in `index'
Started GET "/api/v1/users/2/types?id=1/items" for ::1 at 2021-01-20 00:22:11 +0200
Processing by Api::V1::TypesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "id"=>"1/items", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mType Load (0.4ms)[0m  [1m[34mSELECT `types`.* FROM `types` WHERE `types`.`user_id` = 2[0m
  â†³ app/controllers/api/v1/types_controller.rb:9:in `index'
Completed 200 OK in 23ms (Views: 9.2ms | ActiveRecord: 5.3ms | Allocations: 12050)


Started GET "/api/v1/users/2/types" for ::1 at 2021-01-20 00:22:37 +0200
Processing by Api::V1::TypesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mType Load (0.4ms)[0m  [1m[34mSELECT `types`.* FROM `types` WHERE `types`.`user_id` = 2[0m
  â†³ app/controllers/api/v1/types_controller.rb:9:in `index'
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.8ms | Allocations: 1903)


Started GET "/api/v1/users/2/types" for ::1 at 2021-01-20 00:22:38 +0200
Processing by Api::V1::TypesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "type"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mType Load (0.4ms)[0m  [1m[34mSELECT `types`.* FROM `types` WHERE `types`.`user_id` = 2[0m
  â†³ app/controllers/api/v1/types_controller.rb:9:in `index'
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.8ms | Allocations: 1902)


Started POST "/api/v1/types/2/items" for ::1 at 2021-01-20 00:30:37 +0200
  
SyntaxError (/home/okka/Desktop/AlShop/config/routes.rb:16: syntax error, unexpected keyword_end, expecting end-of-input):
  
config/routes.rb:16: syntax error, unexpected keyword_end, expecting end-of-input
config/routes.rb:16: syntax error, unexpected keyword_end, expecting end-of-input
Started POST "/api/v1/types/2/items" for ::1 at 2021-01-20 00:30:55 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "type_id"=>"2", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 11ms (ActiveRecord: 2.0ms | Allocations: 8279)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/types/2/items" for ::1 at 2021-01-20 00:31:50 +0200
  
NameError (undefined local variable or method `only' for #<ActionDispatch::Routing::Mapper:0x00007ffb048b6df0>):
  
config/routes.rb:9:in `block (3 levels) in <top (required)>'
config/routes.rb:5:in `block (2 levels) in <top (required)>'
config/routes.rb:4:in `block in <top (required)>'
config/routes.rb:1:in `<top (required)>'
Started POST "/api/v1/types/2/items" for ::1 at 2021-01-20 00:31:59 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "type_id"=>"2", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 16ms (ActiveRecord: 5.6ms | Allocations: 8720)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/types/2/items" for ::1 at 2021-01-20 00:34:46 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "type_id"=>"2", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 12ms (ActiveRecord: 5.7ms | Allocations: 8709)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/api/v1/types/2/items" for ::1 at 2021-01-20 00:34:52 +0200
Processing by Api::V1::ItemsController#create as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "type_id"=>"2", "item"=>{"title"=>"fish hot", "price"=>"22"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 404 Not Found in 17ms (ActiveRecord: 5.8ms | Allocations: 8737)


  
ActiveRecord::RecordNotFound (Couldn't find Type without an ID):
  
app/controllers/application_controller.rb:19:in `current_type'
app/controllers/api/v1/items_controller.rb:19:in `create'
Started POST "/items" for ::1 at 2021-01-20 00:37:26 +0200
  
ActionController::RoutingError (No route matches [POST] "/items"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/items/" for 127.0.0.1 at 2021-01-20 00:37:34 +0200
  
ActionController::RoutingError (No route matches [GET] "/items"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/items" for ::1 at 2021-01-20 00:37:53 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/items"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/users" for ::1 at 2021-01-20 00:40:02 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/users" for ::1 at 2021-01-20 00:40:15 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"user"=>{"email"=>"hammad00@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`auth_token` IS NULL LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'hammad00@gmail.com' LIMIT 1[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/api/v1/users_controller.rb:12:in `create'
Completed 422 Unprocessable Entity in 257ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 15565)


Started GET "/api/v1/users/2/categories" for ::1 at 2021-01-20 00:54:30 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::V1::CategoriesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 5.7ms | Allocations: 10372)


  
NoMethodError (undefined method `category' for #<User:0x00007fbb38786950>
Did you mean?  category_ids):
  
app/controllers/api/v1/categories_controller.rb:7:in `index'
Started GET "/api/v1/users/2/categories" for ::1 at 2021-01-20 00:54:46 +0200
Processing by Api::V1::CategoriesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
Completed 500 Internal Server Error in 196ms (ActiveRecord: 4.9ms | Allocations: 98222)


  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
  
NameError (undefined local variable or method `data' for #<Api::V1::CategoriesController:0x00007fbb389a3e18>):
  
app/controllers/api/v1/categories_controller.rb:9:in `index'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
Started GET "/api/v1/users/2/categories" for ::1 at 2021-01-20 00:55:38 +0200
Processing by Api::V1::CategoriesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2[0m
  â†³ app/controllers/api/v1/categories_controller.rb:9:in `to_h'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 6.0ms | Allocations: 11634)


  
TypeError (wrong element type Category (expected array)):
  
app/controllers/api/v1/categories_controller.rb:9:in `to_h'
app/controllers/api/v1/categories_controller.rb:9:in `index'
Started GET "/api/v1/users/2/categories" for ::1 at 2021-01-20 00:56:20 +0200
Processing by Api::V1::CategoriesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
Completed 500 Internal Server Error in 184ms (ActiveRecord: 4.1ms | Allocations: 93688)


  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
  
NameError (undefined local variable or method `json_string' for #<Api::V1::CategoriesController:0x00007fbb386f2d90>):
  
app/controllers/api/v1/categories_controller.rb:9:in `index'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
Started GET "/api/v1/users/2/categories" for ::1 at 2021-01-20 01:01:51 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSET  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Api::V1::CategoriesController#index as */*
  Parameters: {"title"=>"fish hot", "price"=>"22", "user_id"=>"2", "category"=>{"title"=>"fish hot"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`auth_token` = '_j-iqFeUaBSkxpjFctFw' LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:3:in `current_user'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
Completed 500 Internal Server Error in 190ms (ActiveRecord: 0.3ms | Allocations: 93410)


  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
  
NameError (undefined local variable or method `json_string' for #<Api::V1::CategoriesController:0x00007fbb380e4a70>):
  
app/controllers/api/v1/categories_controller.rb:8:in `index'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`user_id` = 2 LIMIT 11[0m
